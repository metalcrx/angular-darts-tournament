"use strict";angular.module("app.home",["ngRoute"]).config(["$routeProvider",function(r){r.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl"})}]),angular.module("app.player",["ngRoute"]).config(["$routeProvider",function(r){r.when("/player",{templateUrl:"player/player.view.html",controller:"playerCtrl",controllerAs:"vm"})}]),angular.module("app.round",["ngRoute","ngStorage"]).config(["$routeProvider",function(r){r.when("/round",{templateUrl:"round/round.view.html",controller:"roundCtrl",controllerAs:"vm"})}]),angular.module("app.home").controller("homeCtrl",function(){}),angular.module("app.player").controller("playerCtrl",[function(){var r=this;r.players=[],r.storagePlayers=[];var e={};r.saved=localStorage.getItem("players"),r.savedStorage=localStorage.getItem("storagePlayers"),null!==localStorage.getItem("storagePlayers")&&(r.storagePlayers=JSON.parse(r.savedStorage)),localStorage.setItem("players",JSON.stringify(r.players)),localStorage.setItem("storagePlayers",JSON.stringify(r.storagePlayers)),r.addPlayer=function(){r.players.push({name:r.name,totScore:501}),r.name="",e=r.players[r.players.length-1],r.storagePlayers.push(e),localStorage.setItem("players",JSON.stringify(r.players)),localStorage.setItem("storagePlayers",JSON.stringify(r.storagePlayers))},r.removePlayer=function(){r.players=[],localStorage.setItem("players",JSON.stringify(r.players))},r.removePlayerStorage=function(e){var o=r.storagePlayers.indexOf(e);r.storagePlayers.splice(o,1),localStorage.setItem("storagePlayers",JSON.stringify(r.storagePlayers))},r.addPlayerInList=function(e){r.players.push(e),localStorage.setItem("players",JSON.stringify(r.players))}}]),angular.module("app.round").controller("roundCtrl",[function(){var r=this;r.saved=localStorage.getItem("players"),r.players=JSON.parse(r.saved),r.rounds=1,r.totPlayers=r.players.length;var e=r.totPlayers-1;r.currentPlayer=r.players[e].name,r.currentScore=r.players[e].totScore,r.win=!1,r.arrayScore=[],r.scoreRound=0;var o=0;r.loadRound=function(){r.scoreRound=0,t(),r.buttonClicked1=!1,r.buttonClicked2=!1,r.buttonClicked3=!1,r.players[e].totScore=r.currentScore,localStorage.setItem("players",JSON.stringify(r.players)),r.arrayScore.length>=r.totPlayers?r.arrayScore=[]:(r.arrayScore.push(r.currentScore),r.arrayScore.sort(),r.arrayScore[r.arrayScore.length-1]-r.arrayScore[0]>=60&&$.post("https://hooks.slack.com/services/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",{payload:'{"text": "I\'m winning :P"}'})),0!=e?(e--,r.currentPlayer=r.players[e].name,r.currentScore=r.players[e].totScore):(r.rounds+=1,e=r.totPlayers-1,r.currentPlayer=r.players[e].name,r.currentScore=r.players[e].totScore)},r.addScore1=function(){o=0,r.buttonClicked1=!0,r.scoreRound+=parseInt(r.fShot),o=parseInt(r.fShot),r.currentScore-=o,0==r.currentScore&&($.post("https://hooks.slack.com/services/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",{payload:'{"text": "I won :)"}'}),r.win=!0,r.congratulations="Complimenti sei il vincitore!!!"),r.currentScore<0&&(r.currentScore+=o,r.scoreRound=0,r.buttonClicked2=!0,r.buttonClicked3=!0)},r.addScore2=function(){o=0,r.buttonClicked2=!0,r.scoreRound+=parseInt(r.sShot),o=parseInt(r.sShot),r.currentScore-=o,0==r.currentScore&&($.post("https://hooks.slack.com/services/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",{payload:'{"text": "I won :)"}'}),r.win=!0,r.congratulations="Complimenti sei il vincitore!!!"),r.currentScore<0&&(r.currentScore+=o,r.scoreRound=0,r.buttonClicked3=!0)},r.addScore3=function(){o=0,r.buttonClicked3=!0,r.scoreRound+=parseInt(r.tShot),o=parseInt(r.tShot),r.currentScore-=o,0==r.currentScore&&($.post("https://hooks.slack.com/services/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",{payload:'{"text": "I won :)"}'}),r.win=!0,r.congratulations="Complimenti sei il vincitore!!!"),r.currentScore<0&&(r.currentScore+=o,r.scoreRound=0)};var t=function(){r.fShot="",r.sShot="",r.tShot=""}}]),angular.module("app",["ngRoute","app.home","app.player","app.round"]).config(["$locationProvider","$routeProvider",function(r,e){r.hashPrefix("!"),e.otherwise({redirectTo:"/"})}]);